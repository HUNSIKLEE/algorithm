                             ### IPv4 Address (Internet Protocol Address)

- 32bit (a.b.c.b)



-Layer 3에서 사용되는 Protocol
-자신이 포함되지 않은 외부 네트워크로 통신시 사용되는 32bit 주소
-IP Address는 5개의 Class로 구성
-SubnetMask를 사용하여 네트워크를 구분
-Subneting , VLSM을 사용하여 하나의 네트워크를 분할하여 사용가능
-VLSM을 사용하여 다수의 네트워크를 하나의 네트워크로 통합하여 관리


==================================================================================================

                        # 진수 변환

-00000000.00000000.00000000.00000000 = 0.0.0.0
                          ~
-11111111.11111111.11111111.11111111 = 255.255.255.255 = 4294967296

-172 = 10101100
-200 = 10101000
-100 = 01100100
-0    = 00000000
-255 = 11111111


==================================================================================================

                        # IP Class

-IP는 네트워크의 용도나 크기에 따라서 5개의 Class로 구성되어 있다.

-A class
 .범위 : 0 ~ 127 (0.0.0.0 ~ 127.255.255.255)
          [0 , 127은 다른 용도로 예약되어있기때문에 사용할수 없다. 사용범위는 1 ~ 126]
 .공통비트 : 0 0000000 ~  0 1111111
 .S/M : 255.0.0.0 = Host : 2^24 = 16777216


-B class
 .범위 : 128 ~ 191 (128.0.0.0 ~ 191.255.255.255)
 .공통비트 : 10 000000 ~ 10 111111
 .S/M : 255.255.0.0 = Host 2^16 = 65536


-C class
 .범위 : 192 ~ 223 (192.0.0.0 ~ 223.255.255.255)
 .공통비트 : 110 00000 ~ 110 11111
 .S/M : 255.255.255.0 = Host 2^8 = 256

------------------------------------------------ Unicast Address(장비할당)

-D class
 .범위 : 224 ~ 239 (224.0.0.0 ~ 239.255.255.255)
 .공통비트 : 1110 0000 ~ 1110 1111

------------------------------------------------ Multicast Address

-E class
 .범위 : 240 ~ 255 (240.0.0.0 ~ 255.255.255.255)

------------------------------------------------ 할당되지 않은 주소 (예비용 주소)





==================================================================================================

                        # 사설주소와 공인주소

-공중망은 공인 주소를 사용하여 네트워크를 구축하며
  사설망은 사설 주소를 사용하여 네트워크를 구축한다.

-A class
 .10.x.x.x  [10.0.0.0 ~ 10.255.255.255]

-B class
 .172.16.0.0 ~ 172.31.255.255

-C class
 .192.168.x.x  [192.168.0.0 ~ 192.168.255.255]




==================================================================================================

                        # SubnetMask

-IP와 동일한 범위를 사용한다.
-Network부분과 Host부분을 구분하는 역할
-1 = Network (공통비트)
-0 = Host (비 공통비트)
-1과 0의 연속적인 형식만 가능 (1로 시작 0으로 연속 / 101,010 불가)

-11111111.00000000.00000000.00000000
-11111111.11111111.00000000.00000000
-11111111.11111111.11111111.00000000


-192.168.1 .0  255.255.255 .0 = 서로 다른 네트워크
-192.168.2 .0  255.255.255 .0 = 서로 다른 네트워크

-172.16 .12.0  255.255 .0.0
-172.16 .29.0  255.255 .0.0

-10 .116.21.0  255.0.0.0
-10 .114.97.0  255.0.0.0

-192.168.1.0  255.255.255.0
-192.168.1.0/24

-172.16.0.0  255.255.0.0
-172.16.0.0/16

-10.0.0.0  255.0.0.0
-10.0.0.0/8



==================================================================================================

                        # 실제 사용가능 주소

-하나의 네트워크에는 다수의 주소가 존재하지만 모든 주소를 사용할수는 없다.

-실제 사용가능한 주소는 2^n - 2 = x [x값이 실제 사용 가능한 주소의 개수이다.]

-Host부분이 모두 0인주소는 Network-ID로 사용할수 없다.
-Host부분이 모두 1인 주소는 Broadcast 주소로 사용할수 없다.


EX1) 192.168.1.0/24    ( /24  = 네트워크 24bit )
 .네트워크의 범위 : 192.168.1.0 ~ 192.168.1.255
 .Network-ID : 192.168.1.00000000 = 192.168.1.0
 .Broadcast주소 : 192.168.1.11111111 = 192.168.1.255
 .실제 사용가능 주소 : 192.168.1.1 ~ 192.168.1.254


EX2) 172.16.0.0/16
 .네트워크의 범위 : 172.16.0.0 ~172.16.255.255
 .Network-ID : 172.16.0.0
 .Broadcast주소 : 172.16.255.255
 .실제 사용가능 주소 : 172.16.0.1 ~ 172.16.255.254


EX3) 10.0.0.0/8
 .네트워크의 범위 : 10.0.0.0 ~ 10.255.255.255
 .Network-ID : 10.0.0.0
 .Broadcast주소 : 10.255.255.255
 .실제 사용가능 주소 : 10.0.0.1 ~ 10.255.255.254


===============================================
	## Subnetting

- IP주소의 낭비 최소화를 위해서 하나의 네트워크를
	작은 단위의 네트워크로 분할하여 사용하는 기능



110.21.0.0/16

-A class
-110.21.0.0
-110.21.255.255
-2^16-2

178.156.20.0/24

-B class
-178.156.20.0
-178.156.20.255
-2^8-2








EX1) 192.168.1.0/24 네트워크를 사용하여 모든 구간에 IP주소를 할당하시오


                     192.168.0.96/27                       192.168.0.128/27
              R1------------------------R2------------------------R3
               |                                     |                                     |
           Host 30                             Host 30                            Host 30
       192.168.1.0/27                   192.168.0.32/27                  192.168.0.64/27

-Network : 5 , Host 30
-2^n-2 = 30 : n = 5

-192.168.1.000 00000 = 192.168.0.0/27
-192.168.1.001 00000 = 192.168.0.32/27
-192.168.1.010 00000 = 192.168.0.64/27
-192.168.1.011 00000 = 192.168.0.96/27
-192.168.1.100 00000 = 192.168.0.128/27
-192.168.1.101 00000 = 192.168.0.160/27
-192.168.1.110 00000 = 192.168.0.192/27
-192.168.1.111 00000 = 192.168.0.224/27

================

210.116.20.0/24

-210.116.20.0/27
-210.116.20.32/27
-210.116.20.64/27
-210.116.20.96/27
-210.116.20.128/27
-210.116.20.160/27
-210.116.20.192/27
-210.116.20.224/27



211.241.228.0/24
-211.241.228.0/27
-211.241.228.32/27
-211.241.228.64/27
-211.241.228.96/27
-211.241.228.128/27
-211.241.228.160/27
-211.241.228.192/27
-211.241.228.224/27

========================

172.16.0.0/16

host = 500
172.16.0000000 0.0/16
C = 128개의 네트워크


======================================================================================

                  ## VLSM [Variable Length subnetMask]

-하나의 네트워크를 효율적으로 사용하기위해서 여러단위의 네트워크로 분할하여 사용하는 기능

EX1) 192.168.1.0/24 네트워크를 사용하여 모든 구간에 IP주소를 할당하시오


                     192.168.0.96/30                       192.168.0.100/30
              R1------------------------R2------------------------R3
               |                                     |                                    |
           Host 30                             Host 30                          Host 30
       192.168.1.0/27                    192.168.0.32/27               192.168.0.64/27

-Network : 5 , Host 30
-2^n-2 = 30 : n = 5

-192.168.1.000 00000 = 192.168.0.0/27
-192.168.1.001 00000 = 192.168.0.32/27
-192.168.1.010 00000 = 192.168.0.64/27
-192.168.1.011 00000 = 192.168.0.96/27
-192.168.1.100 00000 = 192.168.0.128/27
-192.168.1.101 00000 = 192.168.0.160/27
-192.168.1.110 00000 = 192.168.0.192/27
-192.168.1.111 00000 = 192.168.0.224/27

-Host 2 = 2^n-2 = 2 : n = 2
-192.168.1.011 000 00 = 192.168.0.96/30
-192.168.1.011 001 00 = 192.168.0.100/30
-192.168.1.011 010 00 = 192.168.0.104/30
-192.168.1.011 011 00 = 192.168.0.108/30
-192.168.1.011 100 00 = 192.168.0.112/30
-192.168.1.011 101 00 = 192.168.0.116/30
-192.168.1.011 110 00 = 192.168.0.120/30
-192.168.1.011 111 00 = 192.168.0.124/30

========================================

210.160.10.128/27 host=2

210.160.10.128/30

210.160.10.128 129 130 131
210.160.10.132 133 134 135
210.160.10.136 135 136 139
210.160.10.140 141 142 143
210.160.10.144 145 146 147
210.160.10.148 149 150 151
210.160.10.152 153 154 155
210.160.10.156 157 158 159


210.160.10.192/27 host = 2

210.160.10.192 193 194 195
210.160.10.196
210.160.10.200
210.160.10.204
210.160.10.208
210.160.10.212
210.160.10.216
210.160.10.220 221 222 223
==================================================

210.116.50.0/24 


                  210.116.50.96/30                  210.116.50.100/30
                        Host = 2                               Host = 2
             R1------------------------R2------------------------R3
               |                                     |                                    |
           Host 30                             Host 30                          Host 30
     210.116.50.0/27                 210.116.50.32/27                  210.116.50.64/27

$210.116.50.0/27
 
=210.116.50.0	0 ~ 31		1 ~ 30
=210.116.50.32	32 ~ 63		33 ~ 62
=210.116.50.64	64 ~ 95		65 ~ 94

210.116.50.96	96 ~ 127		97 ~ 126
210.116.50.128	128 ~ 159	129 ~ 158
210.116.50.160	160 ~ 191	161 ~ 190
210.116.50.192	192 ~ 223	193 ~ 222
210.116.50.224	224 ~ 255	225 ~ 254

$210.116.50.96/30

=210.116.50.96	96 ~ 99		97 98
=210.116.50.100	100 ~ 103	101 102

210.116.50.104	104 ~ 107	105 106
210.116.50.108	108 ~ 111	109 110
210.116.50.112	112 ~ 115	113 114
210.116.50.116	116 ~ 119	117 118
210.116.50.120	120 ~ 123	121 122
210.116.50.124	124 ~ 127	125 126


133.200.0.0/16


======================================================================================
	## IP address summary

- IP 주소의 낭비를 최소화 하기위해서 하나의 네트워크를 작은 단위로 분할하여 사용하는 기능을  VLSM이라고 한다.
 subnetting, VLSM은 주소의 낭비를 최소화 하는 장점이 있는 반면
해당 주소를 사용하는 Router는 분할된 모든 네트워크 정보를 관리해야기때문에 메모리 소모량이 증가하며
Routing table 을 참조하는 Delay가 증가하게 된다.



-subnetting , VLSM 을 사용하여 나뉘어진 네트워크를 하나의 네트워크로 분할하여 사용하는 기능


목적 
-routing table을 줄이기 위해서 => routing 메모리 소모량을 줄이기 위해
-Flapping 현상에 의한 문제를 주소 요약을 통해서 해결


종류  1. Classfull // 2. CIDR

======================================================================================
	## Classfull (자동요약 방식)

-Subnetting , VLSM을 사용 하여 나뉘어진 네트워크를 원래의 Class형식으로 요약하는 방식
-현재 쓰지 않는 방법

	172.168.0.0/24
	172.168.1.0/24
	172.168.2.0/24
	172.168.3.0/24


  	     S 1/0					S 1/1
  	 R1---------------------------------------R2              <=DA :172.168.*.*

	172.168.0.0/24 FastEthernet0/0	172.168.0.0/16 Serial 1/1
	172.168.1.0/24 FastEthernet0/0
	172.168.2.0/24 FastEthernet0/0
	172.168.3.0/24 FastEthernet0/0

======================================================================================

                  ## CIDR (Classless Inter-Domain Routing)

-CIDR : 무 Class형식으로 IP address를 Class기반이 아닌 SubnetMask를 기반으로 동작하는 기능



172.168.0.0/24
	172.168.1.0/24
	172.168.2.0/24
	172.168.3.0/24


  	     S 1/0					S 1/1
  	 R1---------------------------------------R2             

	172.168.0.0/24 FastEthernet0/0	172.168.0.0/22 Serial 1/1
	172.168.1.0/24 FastEthernet0/0
	172.168.2.0/24 FastEthernet0/0
	172.168.3.0/24 FastEthernet0/0


ex

172.168.0.0/24 ~ 172.168.7.0/24 네트워크를 VLSM을 사용 하여 하나의 네트워크로 요약

172.168.11111 000.0000000

255.255.248.0

172.168.0.0/21


ex

172.168.4.0/24 ~ 172.168.7.0/24

172.168.000001 00
172.168.000001 11

172.168.4.0/22















EX1) R1은 자신의 Local 네트워크인 172.16.0.0/24 ~ 172.16.7.0/24 네트워크 정보를
       하나의 네트워크 정보로 요약을 실시하려고 한다.


     172.16.0.0/24
             ~
     172.16.7.0/24                  S0   S1
          R1----------------------R2----------------------R3

-172.16.0.0/21  Serial 0


-10101100.00010000.00000 000.00000000
-10101100.00010000.00000 001.00000000
-10101100.00010000.00000 010.00000000
-10101100.00010000.00000 011.00000000
-10101100.00010000.00000 100.00000000
-10101100.00010000.00000 101.00000000
-10101100.00010000.00000 110.00000000
-10101100.00010000.00000 111.00000000
------------------------------------
-11111111.11111111.11111 000.00000000  = 172.16.0.0  255.255.248.0 = 172.16.0.0/21





EX2) R1은 자신의 Local 네트워크인 172.16.0.0/24 ~ 172.16.3.0/24 네트워크 정보를
       하나의 네트워크 정보로 요약을 실시하려고 한다.

     172.16.0.0/24
             ~
     172.16.3.0/24                  S0   S1
          R1----------------------R2----------------------R3


-172.16.000000 00
-172.16.000000 01
-172.16.000000 10
-172.16.000000 11
----------------
-172.16.111111 00 = 172.16.0.0  255.255.252.0




EX3) R1은 자신의 Local 네트워크인 172.16.4.0/24 ~ 172.16.7.0/24 네트워크 정보를
       하나의 네트워크 정보로 요약을 실시하려고 한다.

-172.16.000001 00
-172.16.000001 01
-172.16.000001 10
-172.16.000001 11
-----------------
-172.16.111111 00 = 172.16.4.0  255.255.252.0




EX4) R1은 자신의 Local 네트워크인 172.16.8.0/24 ~ 172.16.15.0/24 네트워크 정보를
       하나의 네트워크 정보로 요약을 실시하려고 한다.

-172.16.00001 000
-172.16.00001 001
-172.16.00001 010
-172.16.00001 011
-172.16.00001 100
-172.16.00001 101
-172.16.00001 110
-172.16.00001 111
----------------
-172.16.11111 000 = 172.16.8.0  255.255.248.0 = 172.16.8.0/21




EX5) R1은 자신의 Local 네트워크인 172.16.0.0/24 ~ 172.16.10.0/24 네트워크 정보를
       하나의 네트워크 정보로 요약을 실시하려고 한다.

-172.16.0000 0000
-172.16.0000 0001
-172.16.0000 0010
-172.16.0000 0011
-172.16.0000 0100
-172.16.0000 0101
-172.16.0000 0110
-172.16.0000 0111
-172.16.0000 1000
-172.16.0000 1001
-172.16.0000 1010
         ~
-172.16.0000 1111
-----------------
-172.16.1111 0000 = 172.16.0.0  255.255.240.0

